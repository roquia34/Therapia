<!-- Profile Form Component for Angular -->
<div class="profile-container">
  <div class="profile-card">
    <!-- Success Message -->
    <div class="success-message" [class.show]="showSuccessMessage">
      <div class="success-icon">âœ¨</div>
      <span>Profile updated successfully!</span>
    </div>
    
    <!-- Avatar Section -->
    <div class="avatar-section">
      <div class="avatar-container">
        <div class="avatar" (click)="onAvatarClick()">
          <div class="avatar-placeholder">{{ currentAvatar }}</div>
          <div class="avatar-overlay">
            <span>Change Photo</span>
          </div>
        </div>
        <div class="upload-hint" (click)="onAvatarClick()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </div>
      </div>
      <h2 class="profile-title">Create Your Profile</h2>
      <p class="profile-subtitle">Tell us about yourself</p>
    </div>

    <!-- Profile Form -->
    <form class="profile-form" [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <!-- First Name -->
      <div class="form-group">
        <label class="form-label" for="firstName">First Name</label>
        <div class="input-wrapper">
          <input 
            type="text" 
            class="form-input" 
            id="firstName" 
            formControlName="firstName"
            placeholder="Enter your first name"
            [class.invalid]="profileForm.get('firstName')?.invalid && profileForm.get('firstName')?.touched"
          >
          <div class="input-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
        </div>
        <div class="error-message" *ngIf="profileForm.get('firstName')?.invalid && profileForm.get('firstName')?.touched">
          First name is required
        </div>
      </div>

      <!-- Last Name -->
      <div class="form-group">
        <label class="form-label" for="lastName">Last Name</label>
        <div class="input-wrapper">
          <input 
            type="text" 
            class="form-input" 
            id="lastName" 
            formControlName="lastName"
            placeholder="Enter your last name"
            [class.invalid]="profileForm.get('lastName')?.invalid && profileForm.get('lastName')?.touched"
          >
          <div class="input-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
        </div>
        <div class="error-message" *ngIf="profileForm.get('lastName')?.invalid && profileForm.get('lastName')?.touched">
          Last name is required
        </div>
      </div>

      <!-- Gender -->
      <div class="form-group">
        <label class="form-label" for="gender">Gender</label>
        <div class="select-wrapper">
          <select 
            class="form-select" 
            id="gender" 
            formControlName="gender"
            [class.invalid]="profileForm.get('gender')?.invalid && profileForm.get('gender')?.touched"
          >
            <option value="">Select your gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
            <option value="prefer-not-to-say">Prefer not to say</option>
          </select>
          <div class="select-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </div>
        </div>
        <div class="error-message" *ngIf="profileForm.get('gender')?.invalid && profileForm.get('gender')?.touched">
          Please select your gender
        </div>
      </div>

      <!-- Date of Birth -->
      <div class="form-group">
        <label class="form-label" for="dateOfBirth">Date of Birth</label>
        <div class="input-wrapper">
          <input 
            type="date" 
            class="form-input" 
            id="dateOfBirth" 
            formControlName="dateOfBirth"
            [class.invalid]="profileForm.get('dateOfBirth')?.invalid && profileForm.get('dateOfBirth')?.touched"
          >
          <div class="input-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
            </svg>
          </div>
        </div>
        <div class="error-message" *ngIf="profileForm.get('dateOfBirth')?.invalid && profileForm.get('dateOfBirth')?.touched">
          Date of birth is required
        </div>
      </div>

      <!-- About -->
      <div class="form-group">
        <label class="form-label" for="about">About</label>
        <div class="textarea-wrapper">
          <textarea 
            class="form-textarea" 
            id="about" 
            formControlName="about"
            placeholder="Tell us about yourself, your interests, hobbies..."
            rows="4"
          ></textarea>
          <div class="textarea-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
            </svg>
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="onBack()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
          </svg>
          <span>Back</span>
        </button>
        
        <button 
          type="submit" 
          class="btn btn-primary" 
          [disabled]="profileForm.invalid || isSubmitting"
          [class.loading]="isSubmitting"
        >
          <div class="btn-loader" [class.show]="isSubmitting">
            <div class="spinner"></div>
          </div>
          <span class="btn-text">{{ isSubmitting ? 'Submitting...' : 'Submit' }}</span>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="btn-icon" *ngIf="!isSubmitting">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
          </svg>
        </button>
      </div>
    </form>
  </div>
</div>